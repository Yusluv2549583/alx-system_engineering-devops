
n to count directories recursively
count_directories() {
    for item in "$1"/*; do
        if [[ -d "$item" ]]; then
            count=$((count + 1))
            count_directories "$item"
        fi
    done
}

# Exclude current and parent directories from counting
exclude_dirs=".. ."

# Enable globstar to match subdirectories recursively
shopt -s globstar

# Iterate over directories and subdirectories
for item in */; do
    # Check if the item is a directory
    if [[ -d "$item" ]]; then
        # Check if the directory is not excluded
        if [[ ! $exclude_dirs =~ (^|[[:space:]])"$item"($|[[:space:]]) ]]; then
            count=$((count + 1))
            count_directories "$item"
        fi
    fi
done

echo "Total directories and subdirectories: $count"
